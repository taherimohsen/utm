# utm
تنظیمات HAProxy و Load Balancing روی سرور ایران و خارج همراه با تنظیمات احتصاصی برای هر پروتکل به صورت جداگانه

# Ultimate Tunnel Manager (UTM)

## معرفی
این پروژه برای مدیریت خودکار تونل‌های چندپروتکلی بین سرورهای ایران و خارج طراحی شده است.  
پشتیبانی کامل از TCP و UDP (با udp2raw برای UDP) به همراه سیستم agent امن و خودکار.

---

## محتویات

- `install.sh` : نصب کامل، شامل نصب پیش‌نیاز، کانفیگ HAProxy، تنظیم فایروال و تونل UDP
- `uninstall.sh` : حذف کامل پروژه و پاکسازی سیستم
- `agent.sh` : اسکریپت Agent برای سرور خارجی جهت دریافت دستورات امن از سرور ایران (SSH-based)
- `connect-to-agent.sh` : ارسال تنظیمات/دستورات به Agent سرور خارجی
- `/opt/utm/payload.sh` : اسکریپت دستورات که توسط Agent اجرا می‌شود (ایجاد و آپلود توسط کاربر)

---

## نصب

1. روی هر دو سرور ایران و خارج، `install.sh` را اجرا کنید:

```bash
bash install.sh
